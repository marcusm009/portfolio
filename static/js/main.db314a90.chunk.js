(this["webpackJsonpportfolio-website-react"]=this["webpackJsonpportfolio-website-react"]||[]).push([[0],{34:function(t,e,i){},43:function(t,e,i){"use strict";i.r(e);var n=i(5),a=i.n(n),o=i(28),s=i.n(o),r=(i(34),i(14)),l=i(17),c=i(7),u=i(6),p=function(t){var e=t.button,i=Object(c.d)().pathname;return Object(u.jsx)(l.b,{to:e.route,className:i===e.route?"selected":"",children:e.text})},m=function(t){var e=t.buttons;return Object(u.jsx)("div",{id:"nav-bar",className:"top-bar",children:e.map((function(t,e){return Object(u.jsx)(p,{button:t},e)}))})},h=function(){var t=Object(c.d)().pathname;return Object(u.jsx)("div",{id:"title-bar",className:"top-bar",children:Object(u.jsx)("a",{href:t,className:"title",children:"Marcus Mills"})})},d=i(10),v=i.n(d),f=i(16),b=i(0),g=i(1),x=i(2),j=i(3),y=i(8),w=function(t){Object(x.a)(i,t);var e=Object(j.a)(i);function i(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250;return Object(b.a)(this,i),(a=e.call(this)).left=t.innerWidth/-o,a.right=t.innerWidth/o,a.top=t.innerHeight/o,a.bottom=t.innerHeight/-o,a.near=-300,a.far=1500,a.focalPoint=n.position.clone(),a.updateProjectionMatrix(),a.position.set(-1,1,1),a.spawnPos=a.position.clone(),a.lookAt(a.focalPoint),a}return Object(g.a)(i,[{key:"follow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER,i=t.position.x-this.position.x,n=t.position.z-this.position.z;if(t.completionPending||t.completedLevel){var a=t.spawnPos.y-this.spawnPos.y,o=t.position.y-this.position.y,s=o-a;this.position.y+=s<0?Math.max(s,-999999):Math.min(s,999999)}this.position.x+=i<0?Math.max(i,-e):Math.min(i,e),this.position.z+=n<0?Math.max(n,-e):Math.min(n,e)}}]),i}(y.j),O=function(){function t(e,i){Object(b.a)(this,t),this.moveCallback=function(t){console.log("Move callback never assigned")},e.addEventListener("keydown",this.handleKeyDown.bind(this),!1),e.addEventListener("touchstart",this.handleTouchStart.bind(this),!1),e.addEventListener("touchmove",this.handleTouchMove.bind(this),!1),this.xDown=null,this.yDown=null,this.isEnabled=i}return Object(g.a)(t,[{key:"handleKeyDown",value:function(t){if(this.isEnabled){var e=t.which;87==e||38==e?this.moveCallback("up"):83==e||40==e?this.moveCallback("down"):65==e||37==e?this.moveCallback("left"):68==e||39==e?this.moveCallback("right"):console.log("Key pressed: "+e)}}},{key:"getTouches",value:function(t){return t.touches||t.originalEvent.touches}},{key:"handleTouchStart",value:function(t){var e=this.getTouches(t)[0];this.xDown=e.clientX,this.yDown=e.clientY}},{key:"handleTouchMove",value:function(t){if(this.isEnabled&&this.xDown&&this.yDown){var e=t.touches[0].clientX,i=t.touches[0].clientY,n=this.xDown-e,a=this.yDown-i;if(0!=n&&0!=a){var o=Math.atan2(a,n);0<=o&&o<Math.PI/2?this.moveCallback("left"):Math.PI/2<=o&&o<=Math.PI?this.moveCallback("up"):-Math.PI<=o&&o<-Math.PI/2?this.moveCallback("right"):-Math.PI/2<=o&&o<0?this.moveCallback("down"):console.log("This should not happen - touch input angle: ".concat(o))}this.xDown=null,this.yDown=null}}}]),t}(),k="https://media.githubusercontent.com/media/marcusm009/marcusm009.github.io/main",P=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(b.a)(this,t),this.window=e,this.loadedSound=null,this.context=i,this.listener=new y.b,this.loader=new y.c,this.sound=new y.a(this.listener)}return Object(g.a)(t,[{key:"playSound",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null==this.context&&(console.log("context loaded"),this.loadContext()),!this.loadedSound==t&&(this.loadSound(t,e),console.log("loaded sound: ".concat(t))),this.sound.isPlaying&&this.sound.stop(),this.sound.play()}},{key:"stopSound",value:function(){this.sound.stop()}},{key:"loadContext",value:function(){var t=window.AudioContext||window.webkitAudioContext;this.context=new t,this.context.resume().then((function(){console.log("Playback resumed successfully")}))}},{key:"loadSound",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.loader.load("".concat(k,"/sounds/").concat(t,".ogg"),(function(t){e.sound.setBuffer(t),e.sound.setLoop(!1),e.sound.setVolume(i)})),this.loadedSound=t}}]),t}(),C=function(t){Object(x.a)(i,t);var e=Object(j.a)(i);function i(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[.9,.9,.9],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red";Object(b.a)(this,i);var l=new y.d(s[0],s[1],s[2]),c=new y.h;return c.color=new y.e(r),c.blending=y.i,(a=e.call(this,l,c)).name="player",a.position.x=t,a.position.y=o,a.position.z=n,a.spawnPos=a.position.clone(),a.gravity=.025,a.fallVelocity=0,a.isReadyToMove=!0,a.isFalling=!1,a.completedLevel=!1,a.respawnPending=!1,a.completionPending=!1,a.animations=[],a.framesLeftOfAnimation=0,a}return Object(g.a)(i,[{key:"setController",value:function(t){var e=this;this.controller=t,this.controller.moveCallback=function(t){e.move(t)}}},{key:"move",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=Math.PI/2/i;1==this.isReadyToMove&&("up"==t?this.animations.push([function(){e.position.x+=1/i,e.rotation.z-=n},i]):"down"==t?this.animations.push([function(){e.position.x-=1/i,e.rotation.z+=n},i]):"left"==t?this.animations.push([function(){e.position.z-=1/i,e.rotation.x-=n},i]):"right"==t&&this.animations.push([function(){e.position.z+=1/i,e.rotation.x+=n},i]),this.playSound=!0,this.isReadyToMove=!1)}},{key:"animate",value:function(t){for(var e=0;e<this.animations.length;e++)this.animations[e][1]>0&&(this.animations[e][0].bind(this)(),this.animations[e][1]--);this.removeCompletedAnimations(),0==this.animations.length&&(this.completionPending?this.complete():(this.getNextAction(),this.checkFloor(t))),this.playSound=!1}},{key:"removeCompletedAnimations",value:function(){for(var t=[],e=0;e<this.animations.length;e++)this.animations[e][1]>0&&t.push(this.animations[e]);this.animations=t}},{key:"getNextAction",value:function(){this.respawnPending?(this.respawnPending=!1,this.respawn()):(this.rotation.set(0,0,0),this.position.round(),this.isReadyToMove=!0)}},{key:"checkFloor",value:function(t){var e=this;t.hasBlockInLocation(this.position.x,this.position.z)||(this.isFalling=!0,this.animations.push([function(){e.position.y-=e.fallVelocity,e.fallVelocity+=e.gravity},50]),t.hasGoalInLocation(this.position.x,this.position.z)?(this.beginCompletion(),t.completeLevel()):this.respawnPending=!0)}},{key:"respawn",value:function(){this.fallVelocity=0,this.position.copy(this.spawnPos)}},{key:"beginCompletion",value:function(){this.completionPending=!0}},{key:"complete",value:function(){this.position.x=9999999,this.position.y=9999999,this.position.z=9999999,this.completedLevel=!0}}]),i}(y.g),M=function(t){Object(x.a)(i,t);var e=Object(j.a)(i);function i(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[.9,1.8,.9],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"blue";return Object(b.a)(this,i),e.call(this,t,n,a+.25*o[1],o,s)}return Object(g.a)(i,[{key:"getNextAction",value:function(){var t=this.position.y;this.respawnPending?(this.respawnPending=!1,this.respawn()):(this.position.round(),this.position.y=t,this.isReadyToMove=!0)}}]),i}(C),T=i(21),L=(i(42),function(t){Object(x.a)(i,t);var e=Object(j.a)(i);function i(t,n){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.9,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16777215,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"tile";Object(b.a)(this,i);var c=new y.d(s,.5*s,s),u=new y.h;return u.color=new y.e(r),u.blending=y.i,(a=e.call(this,c,u)).name=l,a.position.x=t,a.position.y=o+.325*s,a.position.z=n,a.color=r,a}return Object(g.a)(i,[{key:"getPosition",value:function(){return[this.position.x,this.position.z]}}]),i}(y.g)),q=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[16777215],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1];Object(b.a)(this,t),this.tiles=[],this.goalTile=void 0,this.scale=e,this.colors=i,this.colorProb=n}return Object(g.a)(t,[{key:"loadTemplate",value:function(){var t=Object(f.a)(v.a.mark((function t(e){var i=this;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(t){return t.text()})).then((function(t){i.template=t.split("\n").map((function(t){return t.split("\t")})),i.addTiles()}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"addTiles",value:function(){for(var t=0;t<this.template.length;t++)for(var e=0;e<this.template[t].length;e++)"x"==this.template[t][e].toLowerCase()?this.tiles.push(new L(e,t)):"s"==this.template[t][e].toLowerCase()?(void 0!=this.spawnTile&&console.log("ERROR: Multiple spawn tiles! Please fix level template"),this.spawnTile=new L(e,t,0,.9,13948116,"spawn"),this.tiles.push(this.spawnTile)):"g"==this.template[t][e].toLowerCase()&&(void 0!=this.goalTile&&console.log("ERROR: Multiple goal tiles! Please fix level template"),this.goalTile=new L(e,t,0,.9,16760222,"goal"),this.tiles.push(this.goalTile))}},{key:"addToScene",value:function(t){var e,i=Object(T.a)(this.tiles);try{for(i.s();!(e=i.n()).done;){var n=e.value;t.add(n)}}catch(a){i.e(a)}finally{i.f()}}},{key:"getBlockInLocation",value:function(t,e){var i=Math.round(t),n=Math.round(e);return i<0||n<0||i>=this.template[0].length||n>=this.template.length?"":this.template[n][i].toLowerCase()}},{key:"hasBlockInLocation",value:function(t,e){return["x","s"].includes(this.getBlockInLocation(t,e))}},{key:"hasGoalInLocation",value:function(t,e){return"g"==this.getBlockInLocation(t,e)}},{key:"getPositions",value:function(){var t,e=[],i=Object(T.a)(this.tiles);try{for(i.s();!(t=i.n()).done;){var n=t.value;e.push(n.position)}}catch(a){i.e(a)}finally{i.f()}return e}},{key:"completeLevel",value:function(){this.goalTile.position.z=1e5}}]),t}();var S=function(t){Object(x.a)(i,t);var e=Object(j.a)(i);function i(t){var n;return Object(b.a)(this,i),(n=e.call(this,t)).state={renderer:null,scene:null,camera:null,audioManager:null,floor:null,controller:null,player:null,initialScreenWidth:null,initialScreenHeight:null},n}return Object(g.a)(i,[{key:"componentDidMount",value:function(){var t=Object(f.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(this.props),t.next=3,this.initThreeCanvas();case 3:return t.next=5,this.resumeThreeCanvas();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var t=Object(f.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.controller.isEnabled=this.props.isActive,this.state.player.completedLevel&&console.log("completed - ",this.props.level);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"initThreeCanvas",value:function(){var t=Object(f.a)(v.a.mark((function t(){var e,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.state.initialScreenWidth=window.innerWidth,this.state.initialScreenHeight=window.innerHeight,this.state.scene=new y.k,this.state.camera=new w(window,this.state.scene),this.state.renderer=new y.l({alpha:!0}),e=this.mount,this.state.renderer.setSize(this.state.initialScreenWidth,this.state.initialScreenHeight),e.appendChild(this.state.renderer.domElement),this.state.renderer.domElement.style.zIndex=0,i=new y.f,this.state.scene.add(i),i.position.set(-20,100,50),this.state.audioManager=new P(window),this.state.camera.add(this.state.audioManager.listener),this.state.audioManager.loadSound("wooden-percussion-shot"),this.state.floor=new q(.9,[11337592,2697513],[0,1]),this.state.floor.template=this.props.template,this.state.floor.addToScene(this.state.scene),this.state.controller=new O(document,this.props.isActive),"projects"==this.props.level?this.state.player=new M(this.state.floor.spawnTile.position.x,this.state.floor.spawnTile.position.z):this.state.player=new C(this.state.floor.spawnTile.position.x,this.state.floor.spawnTile.position.z),this.state.player.setController(this.state.controller),this.state.scene.add(this.state.player),this.state.camera.follow(this.state.player);case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"resumeThreeCanvas",value:function(){var t=Object(f.a)(v.a.mark((function t(){var e,i=this;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0,function t(){i.state.renderer.render(i.state.scene,i.state.camera),i.state.player.playSound&&i.state.audioManager.playSound("wooden-percussion-shot"),i.state.player.animate(i.state.floor),i.state.camera.follow(i.state.player,.1),i.state.player.completionPending&&!i.props.isComplete&&i.props.completeStageCallback(),e%200==0&&console.log(i.state.player.position),e+=1,requestAnimationFrame(t)}();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(u.jsx)("div",{ref:function(e){return t.mount=e},id:this.props.level,className:"canvas-container",style:{display:this.props.isActive?"block":"none"}})}}]),i}(n.Component),E=function(t){var e=t.pages,i=t.completeStageCallback,n=Object(c.d)().pathname;return Object(u.jsx)(u.Fragment,{children:e.map((function(t,e){return Object(u.jsxs)(u.Fragment,{children:[t.completed&&Object(u.jsx)(t.component,{}),Object(u.jsx)(S,{level:t.route.replace("/",""),isActive:n===t.route,completeStageCallback:function(){return i(t.route)},isComplete:t.completed,template:t.template},e)]})}))})},D=function(){var t="/about"==Object(c.d)().pathname,e=Object(n.useState)(!0),i=Object(r.a)(e,2),a=i[0],o=i[1];return Object(n.useEffect)((function(){var t=setTimeout((function(){return o(!1)}),1e3);return function(){clearTimeout(t)}}),[]),Object(u.jsxs)("div",{className:"site-body ".concat(a?"fade":""," ").concat(!a&&t?"active":""),children:[Object(u.jsx)("h1",{children:"About Me"}),Object(u.jsx)("img",{src:"https://media.githubusercontent.com/media/marcusm009/marcusm009.github.io/main/images/headshot.jpg",style:{width:"500px",maxWidth:"100%",height:"auto"},title:"Me!"}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet dolorem ab, voluptatibus maiores placeat deleniti, tempora amet rem voluptatum excepturi, maxime sapiente rerum corrupti repellendus ipsa mollitia architecto corporis nostrum velit cumque vero soluta! Perspiciatis minima quam exercitationem harum. Distinctio quas sint ad, sapiente praesentium veniam reiciendis consectetur deserunt laudantium."})]})};console.log("VER: 0.1.6");var z=function(){var t=Object(n.useState)({pages:[{text:"About",route:"/about",template:[["x","x","x","x","x","x","x","x"],["x","x","","s","x","x","x","x"],["x","","x","x","x","x","g","x"]],completed:!1,component:D}]}),e=Object(r.a)(t,2),i=e[0],a=e[1];return Object(u.jsxs)(l.a,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(m,{buttons:i.pages}),Object(u.jsx)(E,{pages:i.pages,completeStageCallback:function(t){console.log(t," completed!"),i.pages.forEach((function(e,n){if(e.route===t){var o={};Object.assign(o,i),o.pages[n].completed=!0,a(o)}}))}})]})},A=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,44)).then((function(e){var i=e.getCLS,n=e.getFID,a=e.getFCP,o=e.getLCP,s=e.getTTFB;i(t),n(t),a(t),o(t),s(t)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(z,{})}),document.getElementById("root")),A()}},[[43,1,2]]]);
//# sourceMappingURL=main.db314a90.chunk.js.map